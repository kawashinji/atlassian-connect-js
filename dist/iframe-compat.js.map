{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/plugin/consumer-options.js","src/plugin/dialog.js","src/plugin/dollar.js","src/plugin/events.js","src/plugin/index.js","src/plugin/util.js"],"names":[],"mappings":"AAAA;;;;;;;;;sBCAc,UAAU;;;;IAElB,eAAe;WAAf,eAAe;0BAAf,eAAe;;;eAAf,eAAe;;WAEA,+BAAG;AACpB,UAAI,OAAO,GAAG,EAAE,CAAC;AACjB,UAAI,OAAO,GAAG,yBAAE,yCAAyC,CAAC,CAAC;;AAE3D,UAAK,EAAE,OAAO,IAAI,6CAA6C,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAA,AAAC,EAAE;AAC1F,eAAO,GAAG,yBAAE,oBAAoB,CAAC,CAAC;OACnC;;AAED,UAAG,OAAO,IAAI,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;;AAEhC,YAAI,MAAM,GAAG,OAAO,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;AAC1C,YAAI,MAAM,EAAE;;AAEV,gBAAM,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC,UAAC,MAAM,EAAK;AACpC,kBAAM,GAAG,MAAM,CAAC,IAAI,EAAE,CAAC;AACvB,gBAAI,MAAM,EAAE;AACV,kBAAI,EAAE,GAAG,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;AAC3B,kBAAI,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC;AACrB,kBAAI,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC;AACrB,kBAAI,CAAC,IAAI,CAAC,IAAI,IAAI,EAAE;AAClB,uBAAO,CAAC,CAAC,CAAC,GAAG,CAAC,KAAK,MAAM,IAAI,CAAC,KAAK,OAAO,GAAG,CAAC,KAAK,MAAM,GAAG,CAAC,CAAC;eAC/D;aACF;WACF,CAAC,CAAC;SACJ;OACF;;AAED,aAAO,OAAO,CAAC;KAChB;;;WAEK,kBAAG;AACP,aAAO,IAAI,CAAC,QAAQ,CAAC;KACtB;;;WAEE,aAAC,GAAG,EAAE;AACP,UAAG,CAAC,IAAI,CAAC,QAAQ,EAAE;AACjB,YAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,mBAAmB,EAAE,CAAC;OAC5C;AACD,UAAG,GAAG,EAAE;AACN,eAAO,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;OAC3B;AACD,aAAO,IAAI,CAAC,QAAQ,CAAC;KACtB;;;SA5CG,eAAe;;;AAgDrB,MAAM,CAAC,OAAO,GAAG,IAAI,eAAe,EAAE,CAAC;;;;;;;oBClDtB,QAAQ;;;;sBACN,UAAU;;;;AAE7B,IAAM,aAAa,GAAG,kBAAK,YAAY,CAAC,YAAM;AAC5C,SAAO,EAAE,CAAC,KAAK,CAAC,OAAO,CAAC,UAAU,CAAC;CACpC,EAAE,sBAAsB,EAAE,2BAA2B,EAAE,KAAK,CAAC,CAAC;;AAG/D,MAAM,CAAC,cAAc,CAAC,EAAE,CAAC,YAAY,CAAC,MAAM,EAAE,YAAY,EAAE;AAC1D,KAAG,EAAE,aAAa;CACnB,CAAC,CAAC;AACH,MAAM,CAAC,cAAc,CAAC,EAAE,CAAC,MAAM,EAAE,YAAY,EAAE;AAC7C,KAAG,EAAE,aAAa;CACnB,CAAC,CAAC;;AAEH,IAAM,cAAc,GAAG,EAAE,CAAC;;AAE1B,oBAAO,KAAK,CAAC,UAAC,IAAI,EAAE,IAAI,EAAK;AAC3B,MAAI,gBAAgB,GAAG,IAAI,CAAC,KAAK,CAAC,iBAAiB,CAAC,CAAC;AACrD,MAAI,gBAAgB,EAAE;AACpB,QAAI,WAAW,GAAG,gBAAgB,CAAC,CAAC,CAAC,CAAC;AACtC,QAAI,QAAQ,GAAG,cAAc,CAAC,WAAW,CAAC,CAAC;AAC3C,QAAI,QAAQ,EAAE;AACZ,cAAQ,CAAC,OAAO,CAAC,UAAA,EAAE;eAAI,EAAE,CAAC,IAAI,CAAC;OAAA,CAAC,CAAC;KAClC,MAAM,IAAI,WAAW,KAAK,OAAO,EAAE;AAClC,QAAE,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;KACnB;GACF;CACF,CAAC,CAAC;;AAEH,SAAS,eAAe,CAAC,KAAK,EAAE,QAAQ,EAAE;AACxC,MAAI,OAAO,QAAQ,KAAK,UAAU,EAAE;AAClC,QAAI,CAAC,cAAc,CAAC,KAAK,CAAC,EAAE;AAC1B,oBAAc,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC;KAC5B;AACD,kBAAc,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;GACtC;CACF;;AAED,IAAM,qBAAqB,GAAG,EAAE,CAAC,YAAY,CAAC,MAAM,CAAC,MAAM,CAAC;;AAE5D,EAAE,CAAC,MAAM,CAAC,MAAM,GAAG,EAAE,CAAC,YAAY,CAAC,MAAM,CAAC,MAAM,GAAG,YAAa;AAC9D,MAAM,MAAM,GAAG,qBAAqB,4BAAS,CAAC;AAC9C,QAAM,CAAC,EAAE,GAAG,kBAAK,YAAY,CAAC,eAAe,EAC3C,iCAAiC,EAAE,wCAAwC,EAAE,KAAK,CAAC,CAAC;AACtF,SAAO,MAAM,CAAC;CACf,CAAC;;AAEF,IAAM,wBAAwB,GAAG,EAAE,CAAC,YAAY,CAAC,MAAM,CAAC,SAAS,CAAC;;AAElE,EAAE,CAAC,MAAM,CAAC,SAAS,GAAG,EAAE,CAAC,YAAY,CAAC,MAAM,CAAC,SAAS,GAAG,YAAa;AACpE,MAAM,MAAM,GAAG,wBAAwB,4BAAS,CAAC;AACjD,MAAM,IAAI,GAAG,UAAK,CAAC,CAAC,CAAC;AACrB,QAAM,CAAC,IAAI,GAAG,kBAAK,YAAY,CAAC,UAAC,QAAQ;WAAK,eAAe,CAAC,IAAI,EAAE,QAAQ,CAAC;GAAA,EAC3E,oCAAoC,EAAE,0CAA0C,EAAE,KAAK,CAAC,CAAC;AAC3F,SAAO,MAAM,CAAC;CACf,CAAC;;AAEF,EAAE,CAAC,MAAM,CAAC,eAAe,GAAG,EAAE,CAAC,YAAY,CAAC,MAAM,CAAC,eAAe,GAAG,kBAAK,YAAY,CAAC,eAAe,EACpG,6BAA6B,EAAE,0CAA0C,EAAE,KAAK,CAAC,CAAC;;AAEpF,IAAG,CAAC,EAAE,CAAC,MAAM,EAAC;AACZ,IAAE,CAAC,MAAM,GAAG,EAAE,CAAC,YAAY,CAAC,MAAM,GAAG,EAAE,CAAC,MAAM,CAAC;CAChD;;;;;;;;;;;oBC/DgB,QAAQ;;;;AAEzB,IAAI,KAAI,GAAG,kBAAK,IAAI;IAClB,MAAM,GAAG,kBAAK,MAAM;IACpB,QAAQ,GAAG,MAAM,CAAC,QAAQ,CAAC;;AAE7B,SAAS,CAAC,CAAC,GAAG,EAAE,OAAO,EAAE;;AAEvB,SAAO,GAAG,OAAO,IAAI,QAAQ,CAAC;;AAE9B,MAAI,GAAG,GAAG,EAAE,CAAC;AACb,MAAI,GAAG,EAAE;AACP,QAAI,OAAO,GAAG,KAAK,QAAQ,EAAE;AAC3B,UAAI,OAAO,GAAG,OAAO,CAAC,gBAAgB,CAAC,GAAG,CAAC,CAAC;AAC5C,WAAI,CAAC,OAAO,EAAE,UAAU,CAAC,EAAE,CAAC,EAAE;AAAE,WAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;OAAE,CAAC,CAAC;KACjD,MACI,IAAI,GAAG,CAAC,QAAQ,KAAK,CAAC,EAAE;AAC3B,SAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;KACf,MACI,IAAI,GAAG,KAAK,MAAM,EAAE;AACvB,SAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;KACf;GACF;;AAED,QAAM,CAAC,GAAG,EAAE;AACV,QAAI,EAAE,cAAU,EAAE,EAAE;AAClB,WAAI,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC;AACf,aAAO,IAAI,CAAC;KACb;AACD,QAAI,EAAE,cAAU,IAAI,EAAE,QAAQ,EAAE;AAC9B,UAAI,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE,EAAE,EAAE;AACzB,0BAAK,IAAI,CAAC,EAAE,EAAE,IAAI,EAAE,QAAQ,CAAC,CAAC;OAC/B,CAAC,CAAC;KACJ;AACD,QAAI,EAAE,cAAU,CAAC,EAAE;AACjB,UAAI,CAAC,CAAC;AACN,UAAI,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE,EAAE,EAAE;AACzB,SAAC,GAAG,EAAE,CAAC,CAAC,CAAC,IAAK,EAAE,CAAC,YAAY,IAAI,EAAE,CAAC,YAAY,CAAC,CAAC,CAAC,AAAC,CAAC;AACrD,eAAO,CAAC,CAAC,CAAC;OACX,CAAC,CAAC;AACH,aAAO,CAAC,CAAC;KACV;AACD,eAAW,EAAE,qBAAU,SAAS,EAAE;AAChC,aAAO,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE,EAAE,EAAE;AAChC,YAAI,EAAE,CAAC,SAAS,EAAE;AAChB,YAAE,CAAC,SAAS,GAAG,EAAE,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,MAAM,CAAC,SAAS,GAAG,SAAS,GAAG,SAAS,CAAC,EAAE,GAAG,CAAC,CAAC;SACzF;OACF,CAAC,CAAC;KACJ;AACD,QAAI,EAAE,cAAU,KAAI,EAAE;AACpB,aAAO,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE,EAAE,EAAE;AAChC,UAAE,CAAC,SAAS,GAAG,KAAI,CAAC;OACrB,CAAC,CAAC;KACJ;AACD,UAAM,EAAE,gBAAU,IAAI,EAAE;AACtB,aAAO,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE,EAAE,EAAE;AAChC,YAAI,EAAE,GAAG,OAAO,CAAC,aAAa,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;AACzC,aAAI,CAAC,IAAI,EAAE,UAAU,CAAC,EAAE,CAAC,EAAE;AACzB,cAAI,CAAC,KAAK,OAAO,EAAE;AACjB,gBAAI,EAAE,CAAC,UAAU,EAAE;;AACjB,gBAAE,CAAC,UAAU,CAAC,OAAO,GAAG,CAAC,CAAC;aAC3B,MACI;AACH,gBAAE,CAAC,WAAW,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC;aAC3C;WACF,MACI,IAAI,CAAC,KAAK,KAAK,EAAE;AACpB,cAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;WACX;SACF,CAAC,CAAC;AACH,UAAE,CAAC,WAAW,CAAC,EAAE,CAAC,CAAC;OACpB,CAAC,CAAC;KACJ;GACF,CAAC,CAAC;;AAEH,SAAO,GAAG,CAAC;CACZ;;qBAEc,MAAM,CAAC,CAAC,oBAAO;;;;;;;;;;;;sBC9EhB,UAAU;;;;;;;;;;;;;;;;;;;AAgBxB,IAAI,MAAM,GAAG,EAAE,CAAC;AAChB,IAAM,UAAU,GAAG,MAAM,CAAC;AAC1B,IAAG,MAAM,CAAC,EAAE,IAAI,MAAM,CAAC,EAAE,CAAC,QAAQ,EAAC;AACjC,QAAM,CAAC,EAAE,CAAC,QAAQ,CAAC;AACjB,QAAI,EAAE,cAAS,IAAI,EAAE,QAAQ,EAAC;AAC5B,UAAI,SAAS,GAAG,QAAQ,CAAC,QAAQ,CAAC,SAAS,CAAC;AAC5C,UAAI,GAAG,GAAG,MAAM,CAAC,UAAU,CAAC,IAAI,EAAE,CAAC;AACnC,UAAI,MAAM,GAAG,MAAM,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;;AAErC,SAAG,CAAC,OAAO,CAAC,UAAC,OAAO,EAAK;;AAEvB,YAAI,IAAI,GAAG,EAAE,CAAC;AACd,YAAG,IAAI,EAAE;AACP,cAAG,IAAI,CAAC,OAAO,EAAC;AACd,gBAAI,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;AACrB,gBAAI,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;WACzB,MAAM;AACL,gBAAI,GAAG,CAAC,IAAI,CAAC,CAAC;WACf;SACF;;AAED,YAAI,CAAC,IAAI,CAAC;AACR,cAAI,EAAE,IAAI;AACV,cAAI,EAAE,SAAS;SAChB,CAAC,CAAC;AACH,eAAO,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;OAC3B,CAAC,CAAC;AACH,YAAM,CAAC,OAAO,CAAC,UAAC,OAAO,EAAK;AAC1B,eAAO,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;OAC3B,CAAC,CAAC;KACJ;GACF,CAAC,CAAC;CACJ;;qBAEc;AACb,KAAG,EAAE,aAAS,IAAI,EAAE,QAAQ,EAAC;AAC3B,QAAI,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;AAC3C,UAAM,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;GAC/B;AACD,QAAM,EAAE,gBAAS,IAAI,EAAC;AACpB,WAAO,MAAM,CAAC,IAAI,CAAC,CAAC;GACrB;AACD,QAAM,EAAE,gBAAS,QAAQ,EAAC;AACxB,QAAI,CAAC,GAAG,CAAC,UAAU,EAAE,QAAQ,CAAC,CAAC;GAChC;AACD,IAAE,EAAE,YAAS,IAAI,EAAE,QAAQ,EAAC;AAC1B,QAAG,CAAC,MAAM,CAAC,IAAI,CAAC,EAAC;AACf,YAAM,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC;KACnB;AACD,UAAM,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;GAC7B;AACD,OAAK,EAAE,eAAS,QAAQ,EAAC;AACvB,QAAI,CAAC,EAAE,CAAC,UAAU,EAAE,QAAQ,CAAC,CAAC;GAC/B;AACD,MAAI,EAAE,cAAS,IAAI,EAAE,QAAQ,EAAC;AAC5B,QAAI,CAAC,EAAE,CAAC,IAAI,EAAE,YAAU;AACtB,cAAQ,CAAC,IAAI,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;AAC/B,UAAI,CAAC,GAAG,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;KAC1B,CAAC,CAAC;GACJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CAiEF;;;;;;;;;;oBC1IgB,QAAQ;;;;sBACX,UAAU;;;;+BACI,oBAAoB;;;;sBACvB,UAAU;;;;sBACV,UAAU;;;;AAEnC,EAAE,CAAC,YAAY,CAAC,OAAO,sBAAI,CAAC;;AAE5B,IAAG,6BAAgB,GAAG,CAAC,cAAc,CAAC,KAAK,IAAI,EAAE;AAC/C,IAAE,CAAC,GAAG,CAAC,YAAY,EAAE,CAAC;CACvB;;AAED,oBAAE,IAAI,sBAAe,UAAC,CAAC,EAAE,MAAM,EAAK;AAClC,IAAE,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,MAAM,CAAC;CACnD,CAAC,CAAC;;;;;;;;;ACfH,SAAS,IAAI,CAAC,CAAC,EAAE,EAAE,EAAE;AACnB,MAAI,CAAC,CAAC;AACN,MAAI,CAAC,CAAC;AACN,MAAI,CAAC,EAAE;AACL,KAAC,GAAG,CAAC,CAAC,MAAM,CAAC;AACb,QAAI,CAAC,IAAI,IAAI,IAAI,OAAO,CAAC,KAAK,UAAU,EAAE;AACtC,OAAC,GAAG,CAAC,CAAC;AACN,aAAO,CAAC,GAAG,CAAC,EAAE;AACV,YAAI,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,KAAK,EAAE,MAAM;AAC5C,SAAC,IAAI,CAAC,CAAC;OACR;KACJ,MAAM;AACL,WAAK,CAAC,IAAI,CAAC,EAAE;AACT,YAAI,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE;AACrB,cAAI,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,KAAK,EAAE,MAAM;SAC7C;OACJ;KACJ;GACJ;CACF;;AAED,SAAS,MAAM,CAAC,GAAG,EAAE,GAAG,EAAE;AACxB,KAAG,IAAI,eAAe,CAAC;AACvB,KAAG,IAAI,OAAO,CAAC;AACf,SAAO,UAAU,EAAE,EAAE,CAAC,EAAE,EAAE,EAAE;AAC1B,QAAI,EAAE,CAAC,GAAG,CAAC,EAAE;AACT,QAAE,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,EAAE,KAAK,CAAC,CAAC;KACvB,MAAM,IAAI,EAAE,CAAC,GAAG,CAAC,EAAE;AAChB,QAAE,CAAC,GAAG,CAAC,CAAC,IAAI,GAAG,CAAC,EAAE,EAAE,CAAC,CAAC;KACvB;GACN,CAAC;CACH;;AAED,SAAS,GAAG,GAAG;AACb,MAAI,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;AAC3B,MAAI,OAAO,IAAI,OAAO,CAAC,GAAG,EAAE;AAC1B,QAAI,IAAI,GAAG,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;AACpC,QAAI,OAAO,CAAC,GAAG,CAAC,KAAK,EAAE;AACnB,aAAO,CAAC,GAAG,CAAC,KAAK,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;KAClC,MAAM;AACL,WAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE;AAC5C,YAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;OACnC;AACH,aAAO,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;KAC7B;AACH,WAAO,IAAI,CAAC;GACb;CACF;;AAED,SAAS,oBAAoB,CAAC,UAAU,EAAE;AACxC,SAAO,UAAU,IAAI,IAAI,GAAG,IAAI,GAAG,kBAAkB,CAAC,UAAU,CAAC,OAAO,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC,CAAC;CACzF;;AAED,SAAS,YAAY,CAAC,EAAE,EAAE,IAAI,EAAE,SAAS,EAAE,YAAY,EAAE;AACvD,MAAI,MAAM,GAAG,KAAK,CAAC;AACnB,SAAO,YAAa;AAClB,QAAI,CAAC,MAAM,IAAI,OAAO,OAAO,KAAK,WAAW,IAAI,OAAO,CAAC,IAAI,EAAE;AAC7D,YAAM,GAAG,IAAI,CAAC;AACd,aAAO,CAAC,IAAI,CAAC,sBAAoB,IAAI,wCAAmC,YAAY,uDACjC,SAAS,eAAW,CAAC,CAAC;KAC1E;AACD,MAAE,4BAAS,CAAC;GACb,CAAA;CACF;;qBAEc;AACb,MAAI,EAAJ,IAAI;AACJ,KAAG,EAAH,GAAG;AACH,sBAAoB,EAApB,oBAAoB;AACpB,cAAY,EAAZ,YAAY;AACZ,MAAI,EAAE,MAAM,CAAC,KAAK,EAAE,QAAQ,CAAC;AAC7B,QAAM,EAAE,MAAM,CAAC,QAAQ,EAAE,QAAQ,CAAC;;AAElC,QAAM,EAAE,gBAAU,IAAI,EAAE;AACtB,QAAI,IAAI,GAAG,SAAS,CAAC;AACrB,QAAI,IAAI,GAAG,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC;AAC/C,QAAI,CAAC,IAAI,EAAE,UAAU,CAAC,EAAE,GAAG,EAAE;AACzB,UAAI,CAAC,GAAG,EAAE,UAAU,CAAC,EAAE,CAAC,EAAE;AACtB,YAAI,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;OACb,CAAC,CAAC;KACN,CAAC,CAAC;AACL,WAAO,IAAI,CAAC;GACb;;AAED,MAAI,EAAE,cAAU,CAAC,EAAE;AACjB,WAAO,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,YAAY,EAAE,EAAE,CAAC,CAAC;GACzC;;AAED,UAAQ,EAAE,kBAAU,EAAE,EAAE,IAAI,EAAE;AAC5B,QAAI,OAAO,CAAC;AACZ,WAAO,YAAY;AACf,UAAI,GAAG,GAAG,IAAI,CAAC;AACf,UAAI,IAAI,GAAG,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;AACpC,eAAS,KAAK,GAAG;AACb,eAAO,GAAG,IAAI,CAAC;AACf,UAAE,CAAC,KAAK,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;OACrB;AACH,UAAI,OAAO,EAAE;AACT,oBAAY,CAAC,OAAO,CAAC,CAAC;OACvB;AACH,aAAO,GAAG,UAAU,CAAC,KAAK,EAAE,IAAI,IAAI,EAAE,CAAC,CAAC;KACzC,CAAC;GACL;;AAED,SAAO,EAAE,iBAAU,KAAK,EAAE,KAAK,EAAE,SAAS,EAAE;;AAE1C,QAAI,KAAK,CAAC,SAAS,CAAC,OAAO,EAAE;AACzB,aAAO,KAAK,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,EAAE,KAAK,EAAE,SAAS,CAAC,CAAC;KAC9D;;AAEH,QAAI,CAAC,GAAG,SAAS,KAAK,CAAC;QAAE,GAAG,GAAG,KAAK,CAAC,MAAM,KAAK,CAAC,CAAC;AAClD,WAAO,CAAC,GAAG,GAAG,EAAE,CAAC,IAAI,CAAC,EAAE;AACpB,UAAI,KAAK,CAAC,CAAC,CAAC,KAAK,KAAK,EAAE,OAAO,CAAC,CAAC;KAClC;AACH,WAAO,CAAC,CAAC,CAAC;GACX;;AAED,YAAU,EAAE,oBAAU,EAAE,EAAE;AACxB,WAAO,OAAO,EAAE,KAAK,UAAU,CAAC;GACjC;;AAED,aAAW,EAAE,qBAAU,GAAG,EAAE;AAC1B,QAAI,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,EAAE,GAAG,IAAI,GAAG,CAAC,OAAO,GAAG,CAAC,GAAG,EAAE,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE;AACnE,YAAM,GAAG,CAAC;KACX;GACJ;CACF","file":"iframe-compat.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","import $ from './dollar';\n\nclass ConsumerOptions {\n\n  _getConsumerOptions() {\n    var options = {};\n    var $script = $('script[src*=\\'/atlassian-connect/all\\']');\n\n    if ( !($script && /\\/atlassian-connect\\/all(-debug)?\\.js($|\\?)/.test($script.attr('src'))) ){\n      $script = $('#ac-iframe-options');\n    }\n\n    if($script && $script.length > 0) {\n      // get its data-options attribute, if any\n      var optStr = $script.attr('data-options');\n      if (optStr) {\n        // if found, parse the value into kv pairs following the format of a style element\n        optStr.split(';').forEach((nvpair) => {\n          nvpair = nvpair.trim();\n          if (nvpair) {\n            var nv = nvpair.split(':');\n            var k = nv[0].trim();\n            var v = nv[1].trim();\n            if (k && v != null) {\n              options[k] = v === 'true' || v === 'false' ? v === 'true' : v;\n            }\n          }\n        });\n      }\n    }\n\n    return options;\n  }\n\n  _flush() {\n    delete this._options;\n  }\n\n  get(key) {\n    if(!this._options) {\n      this._options = this._getConsumerOptions();\n    }\n    if(key) {\n      return this._options[key];\n    }\n    return this._options;\n  }\n\n}\n\nmodule.exports = new ConsumerOptions();","import util from './util';\nimport events from './events';\n\nconst getCustomData = util.deprecateApi(() => {\n  return AP._data.options.customData;\n}, 'AP.dialog.customData', 'AP.dialog.getCustomData()', '5.0');\n\n\nObject.defineProperty(AP._hostModules.dialog, 'customData', {\n  get: getCustomData\n});\nObject.defineProperty(AP.dialog, 'customData', {\n  get: getCustomData\n});\n\nconst dialogHandlers = {};\n\nevents.onAny((name, args) => {\n  let dialogEventMatch = name.match(/^dialog\\.(\\w+)$/);\n  if (dialogEventMatch) {\n    let dialogEvent = dialogEventMatch[1];\n    let handlers = dialogHandlers[dialogEvent];\n    if (handlers) {\n      handlers.forEach(cb => cb(args));\n    } else if (dialogEvent !== 'close') {\n      AP.dialog.close();\n    }\n  }\n});\n\nfunction registerHandler(event, callback) {\n  if (typeof callback === 'function') {\n    if (!dialogHandlers[event]) {\n      dialogHandlers[event] = [];\n    }\n    dialogHandlers[event].push(callback);\n  }\n}\n\nconst original_dialogCreate = AP._hostModules.dialog.create;\n\nAP.dialog.create = AP._hostModules.dialog.create = (...args) => {\n  const dialog = original_dialogCreate(...args);\n  dialog.on = util.deprecateApi(registerHandler,\n    'AP.dialog.on(\"close\", callback)', 'AP.events.on(\"dialog.close\", callback)', '5.0');\n  return dialog;\n};\n\nconst original_dialogGetButton = AP._hostModules.dialog.getButton;\n\nAP.dialog.getButton = AP._hostModules.dialog.getButton = (...args) => {\n  const button = original_dialogGetButton(...args);\n  const name = args[0];\n  button.bind = util.deprecateApi((callback) => registerHandler(name, callback),\n    'AP.dialog.getDialogButton().bind()', 'AP.events.on(\"dialog.message\", callback)', '5.0');\n  return button;\n};\n\nAP.dialog.onDialogMessage = AP._hostModules.dialog.onDialogMessage = util.deprecateApi(registerHandler,\n  'AP.dialog.onDialogMessage()', 'AP.events.on(\"dialog.message\", callback)', '0.5');\n\nif(!AP.Dialog){\n  AP.Dialog = AP._hostModules.Dialog = AP.dialog;\n}","import util from './util';\n\nvar each = util.each,\n  extend = util.extend,\n  document = window.document;\n\nfunction $(sel, context) {\n\n  context = context || document;\n\n  var els = [];\n  if (sel) {\n    if (typeof sel === 'string') {\n      var results = context.querySelectorAll(sel);\n      each(results, function (i, v) { els.push(v); });\n    }\n    else if (sel.nodeType === 1) {\n      els.push(sel);\n    }\n    else if (sel === window) {\n      els.push(sel);\n    }\n  }\n\n  extend(els, {\n    each: function (it) {\n      each(this, it);\n      return this;\n    },\n    bind: function (name, callback) {\n      this.each(function (i, el) {\n        util.bind(el, name, callback);\n      });\n    },\n    attr: function (k) {\n      var v;\n      this.each(function (i, el) {\n        v = el[k] || (el.getAttribute && el.getAttribute(k));\n        return !v;\n      });\n      return v;\n    },\n    removeClass: function (className) {\n      return this.each(function (i, el) {\n        if (el.className) {\n          el.className = el.className.replace(new RegExp('(^|\\\\s)' + className + '(\\\\s|$)'), ' ');\n        }\n      });\n    },\n    html: function (html) {\n      return this.each(function (i, el) {\n        el.innerHTML = html;\n      });\n    },\n    append: function (spec) {\n      return this.each(function (i, to) {\n        var el = context.createElement(spec.tag);\n        each(spec, function (k, v) {\n          if (k === '$text') {\n            if (el.styleSheet) { // style tags in ie\n              el.styleSheet.cssText = v;\n            }\n            else {\n              el.appendChild(context.createTextNode(v));\n            }\n          }\n          else if (k !== 'tag') {\n            el[k] = v;\n          }\n        });\n        to.appendChild(el);\n      });\n    }\n  });\n\n  return els;\n}\n\nexport default extend($, util);","import $ from './dollar';\n/**\n * The Events module provides a mechanism for emitting and receiving events.\n * <h3>Basic example</h3>\n * ```\n * //The following will create an alert message every time the event `customEvent` is triggered.\n * AP.require('events', function(events){\n*   events.on('customEvent', function(){\n*       alert('event fired');\n*   });\n*   events.emit('customEvent');\n* });\n * ```\n * @name Events\n * @module\n */\nvar events = {};\nconst ANY_PREFIX = '_any';\nif(window.AP && window.AP.register){\n  window.AP.register({\n    _any: function(data, callback){\n      var eventName = callback._context.eventName;\n      var any = events[ANY_PREFIX] || [];\n      var byName = events[eventName] || [];\n\n      any.forEach((handler) => {\n        //clone data before modifying\n        var args = [];\n        if(data) {\n          if(data.unshift){\n            args = data.slice(0);\n            args.unshift(eventName);\n          } else {\n            args = [data];\n          }\n        }\n\n        args.push({\n          args: data,\n          name: eventName\n        });\n        handler.apply(null, args);\n      });\n      byName.forEach((handler) => {\n        handler.apply(null, data);\n      });\n    }\n  });\n}\n\nexport default {\n  off: function(name, listener){\n    var index = events[name].indexOf(listener);\n    events[name].splice(index, 1);\n  },\n  offAll: function(name){\n    delete events[name];\n  },\n  offAny: function(listener){\n    this.off(ANY_PREFIX, listener);\n  },\n  on: function(name, listener){\n    if(!events[name]){\n      events[name] = [];\n    }\n    events[name].push(listener);\n  },\n  onAny: function(listener){\n    this.on(ANY_PREFIX, listener);\n  },\n  once: function(name, listener){\n    this.on(name, function(){\n      listener.call(null, arguments);\n      this.off(name, listener);\n    });\n  }\n  /**\n   * Adds a listener for all occurrences of an event of a particular name.\n   * Listener arguments include any arguments passed to `events.emit`, followed by an object describing the complete event information.\n   * @name on\n   * @method\n   * @memberof module:Events#\n   * @param {String} name The event name to subscribe the listener to\n   * @param {Function} listener A listener callback to subscribe to the event name\n   */\n\n  /**\n   * Adds a listener for one occurrence of an event of a particular name.\n   * Listener arguments include any argument passed to `events.emit`, followed by an object describing the complete event information.\n   * @name once\n   * @method\n   * @memberof module:Events#\n   * @param {String} name The event name to subscribe the listener to\n   * @param {Function}listener A listener callback to subscribe to the event name\n   */\n\n  /**\n   * Adds a listener for all occurrences of any event, regardless of name.\n   * Listener arguments begin with the event name, followed by any arguments passed to `events.emit`, followed by an object describing the complete event information.\n   * @name onAny\n   * @method\n   * @memberof module:Events#\n   * @param {Function} listener A listener callback to subscribe for any event name\n   */\n\n  /**\n   * Removes a particular listener for an event.\n   * @name off\n   * @method\n   * @memberof module:Events#\n   * @param {String} name The event name to unsubscribe the listener from\n   * @param {Function} listener The listener callback to unsubscribe from the event name\n   */\n\n  /**\n   * Removes all listeners from an event name, or unsubscribes all event-name-specific listeners\n   * if no name if given.\n   * @name offAll\n   * @method\n   * @memberof module:Events#\n   * @param {String} [name] The event name to unsubscribe all listeners from\n   */\n\n  /**\n   * Removes an `any` event listener.\n   * @name offAny\n   * @method\n   * @memberof module:Events#\n   * @param {Function} listener A listener callback to unsubscribe from any event name\n   */\n\n  /**\n   * Emits an event on this bus, firing listeners by name as well as all 'any' listeners. Arguments following the\n   * name parameter are captured and passed to listeners.\n   * @name emit\n   * @method\n   * @memberof module:Events#\n   * @param {String} name The name of event to emit\n   * @param {String[]} args 0 or more additional data arguments to deliver with the event\n   */\n};\n\n","//INSERT AMD STUBBER HERE!\n// import amd from './amd';\nimport util from './util';\nimport $ from './dollar';\nimport consumerOptions from './consumer-options';\nimport EventsModule from './events';\nimport DialogCompat from './dialog';\n\nAP._hostModules._dollar = $;\n\nif(consumerOptions.get('sizeToParent') === true) {\n  AP.env.sizeToParent();\n}\n\n$.each(EventsModule, (i, method) => {\n  AP._hostModules.events[i] = AP.events[i] = method;\n});\n","// universal iterator utility\nfunction each(o, it) {\n  var l;\n  var k;\n  if (o) {\n    l = o.length;\n    if (l != null && typeof o !== 'function') {\n        k = 0;\n        while (k < l) {\n            if (it.call(o[k], k, o[k]) === false) break;\n            k += 1;\n          }\n      } else {\n        for (k in o) {\n            if (o.hasOwnProperty(k)) {\n                if (it.call(o[k], k, o[k]) === false) break;\n              }\n          }\n      }\n  }\n}\n\nfunction binder(std, odd) {\n  std += 'EventListener';\n  odd += 'Event';\n  return function (el, e, fn) {\n    if (el[std]) {\n        el[std](e, fn, false);\n      } else if (el[odd]) {\n          el[odd]('on' + e, fn);\n        }\n  };\n}\n\nfunction log() {\n  var console = this.console;\n  if (console && console.log) {\n    var args = [].slice.call(arguments);\n    if (console.log.apply) {\n        console.log.apply(console, args);\n      } else {\n        for (var i = 0, l = args.length; i < l; i += 1) {\n            args[i] = JSON.stringify(args[i]);\n          }\n        console.log(args.join(' '));\n      }\n    return true;\n  }\n}\n\nfunction decodeQueryComponent(encodedURI) {\n  return encodedURI == null ? null : decodeURIComponent(encodedURI.replace(/\\+/g, '%20'));\n}\n\nfunction deprecateApi(fn, name, alternate, sinceVersion) {\n  let called = false;\n  return (...args) => {\n    if (!called && typeof console !== 'undefined' && console.warn) {\n      called = true;\n      console.warn(`DEPRECATED API - ${name} has been deprecated since ACJS ${sinceVersion}` +\n        ` and will be removed in a future release. Use ${alternate} instead.`);\n    }\n    fn(...args);\n  }\n}\n\nexport default {\n  each,\n  log,\n  decodeQueryComponent,\n  deprecateApi,\n  bind: binder('add', 'attach'),\n  unbind: binder('remove', 'detach'),\n\n  extend: function (dest) {\n    var args = arguments;\n    var srcs = [].slice.call(args, 1, args.length);\n    each(srcs, function (i, src) {\n        each(src, function (k, v) {\n            dest[k] = v;\n          });\n      });\n    return dest;\n  },\n\n  trim: function (s) {\n    return s && s.replace(/^\\s+|\\s+$/g, '');\n  },\n\n  debounce: function (fn, wait) {\n    var timeout;\n    return function () {\n        var ctx = this;\n        var args = [].slice.call(arguments);\n        function later() {\n            timeout = null;\n            fn.apply(ctx, args);\n          }\n        if (timeout) {\n            clearTimeout(timeout);\n          }\n        timeout = setTimeout(later, wait || 50);\n      };\n  },\n\n  inArray: function (value, array, fromIndex) {\n        //optimisation for all browsers after IE8\n    if (Array.prototype.indexOf) {\n        return Array.prototype.indexOf.call(array, value, fromIndex);\n      }\n\n    var k = fromIndex >>> 0, len = array.length >>> 0;\n    for (; k < len; k += 1) {\n        if (array[k] === value) return k;\n      }\n    return -1;\n  },\n\n  isFunction: function (fn) {\n    return typeof fn === 'function';\n  },\n\n  handleError: function (err) {\n    if (!log.apply(this, err && err.message ? [err, err.message] : [err])) {\n        throw err;\n      }\n  }\n}"]}